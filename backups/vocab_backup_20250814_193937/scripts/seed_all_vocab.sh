#!/bin/bash
# 26語のvocab JSONを一括生成するスクリプト

# プロジェクトルートに移動
cd /Users/kentaroyoshizumi/Desktop/RissDojo || exit 1

# 保存先ディレクトリ作成
mkdir -p questions/data/vocab

# 単語リスト（質問文:回答文）
declare -A VOCABS=(
  ["ブルートフォース攻撃"]="総当たりで全ての組み合わせを試す攻撃手法"
  ["辞書攻撃"]="辞書ファイル内の単語を使ってパスワードを破る攻撃手法"
  ["フィッシング"]="偽のサイトやメールで情報を騙し取る手法"
  ["マルウェア"]="悪意のあるソフトウェア全般の総称"
  ["ランサムウェア"]="データを暗号化し身代金を要求するマルウェア"
  ["SQLインジェクション"]="SQL文を改ざんしてデータベースを不正操作する攻撃"
  ["クロスサイトスクリプティング"]="Webページに悪意のあるスクリプトを埋め込む攻撃"
  ["ゼロデイ攻撃"]="脆弱性が公開される前に行われる攻撃"
  ["DoS攻撃"]="サービスを停止させるための過負荷攻撃"
  ["DDoS攻撃"]="複数のコンピュータから同時に行われるDoS攻撃"
  ["ソーシャルエンジニアリング"]="心理的手法で情報を不正入手する行為"
  ["パスワードリスト攻撃"]="漏えいしたIDとパスワードの組み合わせを使う攻撃"
  ["中間者攻撃"]="通信を傍受・改ざんする攻撃手法"
  ["キーロガー"]="キーボード入力を記録するマルウェア"
  ["ルートキット"]="OSの管理権限を奪い隠蔽するマルウェア"
  ["バックドア"]="不正アクセスのための裏口"
  ["ボットネット"]="感染したPC群を遠隔操作するネットワーク"
  ["ワーム"]="自己増殖しながら感染を広げるマルウェア"
  ["トロイの木馬"]="正規ソフトに見せかけた悪意あるプログラム"
  ["ゼロトラスト"]="全てのアクセスを常に検証するセキュリティモデル"
  ["二要素認証"]="二種類の認証要素を組み合わせる認証方式"
  ["VPN"]="暗号化された仮想専用ネットワーク"
  ["ファイアウォール"]="ネットワーク間の通信を制御する装置またはソフト"
  ["IDS"]="不正侵入を検知するシステム"
  ["IPS"]="不正侵入を防止するシステム"
)

# JSONファイルを生成
for term in "${!VOCABS[@]}"; do
  filename=$(echo "$term" | sed 's/ /_/g' | sed 's/ー/-/g' | sed 's/・/_/g').json
  cat <<EOF > "questions/data/vocab/${filename}"
{
  "question": "${term}とは何ですか？",
  "answer": "${VOCABS[$term]}"
}
EOF
done

echo "✅ 26語のJSONファイルを questions/data/vocab に生成しました。"
